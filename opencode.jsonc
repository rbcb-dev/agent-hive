{
  // JSON Schema for IDE validation
  "$schema": "https://opencode.ai/config.json",

  // ============================================================================
  // PRIMARY MODELS
  // ============================================================================

  // Main model for user interactions in TUI
  // All sub-agents will use this same model (no additional cost in subscription)
  "model": "github-copilot/claude-opus-4.6",

  // Small model used for:
  // - Compaction
  // - Title generation
  // - Summary generation
  // Using free gpt-5-mini reduces unnecessary token consumption for background tasks
  "small_model": "github-copilot/gpt-5-mini",

  // ============================================================================
  // CONTEXT OPTIMIZATION
  // ============================================================================

  "compaction": {
    "auto": true,
    // Prune old context chunks when compacting
    "prune": true,
  },

  // ============================================================================
  // PLUGINS
  // ============================================================================

  // Dynamic Context Pruning (DCP): Automatic context cleanup (free, no API cost)
  //   - Removes duplicate info, merges similar contexts
  //   - Zero additional API calls
  //
  // OpenCode Hive: 6-agent orchestration system
  //   - Phase-aware hybrid planning + execution orchestration
  //   - Worktree isolation for parallel task execution
  //   - Context persistence across sessions (.hive/ directory)
  //   - Plan approval workflow (integrate with VS Code extension)
  "plugin": ["opencode-hive@1.2.0", "@tarquinen/opencode-dcp@2.0.2"],

  // ============================================================================
  // AGENT CONFIGURATION
  // ============================================================================
  "agent": {
    "hive-master": {
      "model": "github-copilot/claude-opus-4.6",
    },
    "architect-planner": {
      // "model": "github-copilot/gpt-5.2-codex",
      "model": "openai/gpt-5.3-codex",
    },
    "swarm-orchestrator": {
      "model": "github-copilot/claude-opus-4.6",
    },
    "scout-researcher": {
      // "model": "github-copilot/gpt-5.2-codex",
      "model": "openai/gpt-5.3-codex",
    },
    "forager-worker": {
      "model": "github-copilot/claude-opus-4.6",
    },
    "hygienic-reviewer": {
      // "model": "github-copilot/gpt-5.2-codex",
      "model": "openai/gpt-5.3-codex",
    },

    // ========================================================================
    // BACKGROUND AGENTS (3 total)
    // ========================================================================
    // These handle non-developmental work: compaction, titles, summaries
    // Kept on gpt-5-mini to reduce unnecessary token consumption
    // (These don't contribute to code quality, just housekeeping)
    "title": {
      "model": "github-copilot/gpt-5-mini",
    },
    "summary": {
      "model": "github-copilot/gpt-5-mini",
    },
    "compaction": {
      // "model": "github-copilot/gpt-5.2-codex",
      "model": "openai/gpt-5.3-codex",
    },
  },
}
